<!DOCTYPE html>
<html lang = "en-US">
<head>

 <!-- Required Text -->
<meta charset = "UTF-8">
<title>Challenges Form - Tanki Online Newspaper</title>

<!-- CSS/Scripts -->
<script src = "Headers.js" type = "text/javascript"></script>
<link rel = "stylesheet" type = "text/css" href = "Zero.css"/>
</head>

<main>

<div class="container" id="title">
<h1 style="color:#96f">Newspaper Challenges</h1>
<h2 style="font-size:18px;">Complete challenges to get a leg up in Competitor. Good luck!</h2>
<hr>
</div>

<div class="container-md col-6" id="form">
<form method="POST" id="main_form" action="https://sheetdb.io/api/v1/z2n3lhbz13xla">
<p class="mb-3">Your Nickname</p>
<div class="form-floating mb-3">
  <input type="text" class="form-control" id="nick" placeholder="Nickname" name="data[Nickname]" required>
  <label for="nick">Nickname</label>
</div>
<p class="mb-3">What challenge would you like to submit an entry for?</p>
<select class="form-select" aria-label="Default select example" name="data[Challenge]" required>
    <option selected disabled id="test">Select a Challenge</option>
    <option value="chall-1" id='fobj1'></option>
    <option value="chall-2" id='fobj2'></option>
    <option value="chall-3" id='fobj3'></option>
    <option value="chall-4" id='fobj4'></option>
    <option value="chall-5" id='fobj5'></option>
    <option value="chall-6" id='fobj6'></option>
    <option value="chall-7" id='fobj7'></option>
    <option value="chall-8" id='fobj8'></option>
    <option value="chall-9" id='fobj9'></option>
    <option value="chall-10" id='fobj10'></option>
    <option value="chall-11" id='fobj11'></option>
    <option value="chall-12" id='fobj12'></option>
    <script src= "tables.js" type="text/javascript"></script>
</select>
<br>
<div class="form-floating mb-3">
  <input type="text" class="form-control" id="resp1" name="data[Response]" placeholder="Good luck!" name="data[Nickname]" required>
  <label for="nick">Enter your response here:</label>
</div>
<div class="col-6" id="formcheck">
    <div class="form-check">
      <input class="form-check-input" type="checkbox" value="" id="invalidCheck2" required>
      <label class="form-check-label" for="invalidCheck2">
        I have read and understood the rules.
      </label>
    </div>
  </div>
  <br>
  <div class="col-6">
    <button class="btn btn-primary" type="submit">Submit</button>
  </div>
  <br>
</form>

<!-- Redirect Script -->
<script>
  var form = document.getElementById('main_form');
  form.addEventListener("submit", e => {
    e.preventDefault();
    fetch(form.action, {
        method : "POST",
        body: new FormData(document.getElementById("main_form")),
    }).then(
        response => response.json()
    ).then((html) => {
      // you can put any JS code here
      alert('Thanks for participating! Click "OK" and continue submitting answers if you would like!')
    });
  });
</script>
</div>

<footer class="container-fluid">
    <h3 style="font-size:20px;">Tanki Online Newspaper</h3>
    <p id="credits">Brought to you by the Tanki Online Newspaper Reporters and Contest Organizers.</p>
</footer>

</main>

</html>